# Загрузка сервера (CPU, Memory)

Python 3.10, Flask, Docker

__Proxy server__: Nginx

__WSGI server__: gunicorn

## Варианты запросов: 
### GET
Получение всех видов загрузки (ЦПУ, ОЗУ)
```shell
http://{host}/
```
```shell
Ответ: 
{
    "cpu, %": 0.0,
    "ram, %": 35.8,
    "swap, %": 0.0
}
```


### POST
Получение отдельных видов загрузки. Тип передается в формате JSON
```shell
http://{host}/
```
```shell
Данные: 
{'load': ['cpu', 'ram']}
```
```shell
Ответ: 
{
    "cpu, %": 10.0,
    "ram, %": 35.8,
}
```
### GET
GET запрос получения всех записей из Redis
```shell
http://{host}/redis
```
```shell
Ответ: 
[ 
  {
        "2023:09:08:11:34:35": {
            "load": {
                "cpu, %": 16.7
            },
            "method": "POST"
        }
    },
    {
        "2023:09:08:11:56:43": {
            "load": {
                "cpu, %": 0.0,
                "ram, %": 35.8,
                "swap, %": 0.0
            },
            "method": "GET"
        }
    }
]
```
### POST
POST запрос очистки записей в Redis
```shell
http://{host}/redis
```
Вместе с запросом может посылаться JSON с промежутком по времени (MM:DD:hh:mm:ss), в таком случае удаление производится в заданном диапазоне, иначе удаляются все записи.
```shell
Данные: 
{'timestamp': ['2023:01:01:00:00:00', '2023:05:01:00:00:00']}
```
```shell
Ответ: 
{
    "removed": 2
}
```